{
    "contents" : "data_elements_simple <- subset(data_elements , select = -c(datasets_ID,datasets_name))\ndata_elements_simple <- unique(data_elements_simple)\n\n\nextract_test_lab <- merge(extract_test , data_elements_simple ,\n                          by.x = 'dataElement' , by.y = 'data_element_ID' ,\n                          all = FALSE)\nextract_test_full <- merge(extract_test_lab , org_units_list ,\n                           by.x = 'org_unit_ID' , by.y = 'org_unit_ID' ,\n                           all = FALSE)\nextract_test_full <- merge(extract_test_full , data_sets ,\n                           by.x = 'datasets_ID' , by.y = 'datasets_ID' ,\n                           all = FALSE)\n\n\nextract_test_full$data_element_name <- as.character(extract_test_full$data_element_name)\nextract_test_full$org_unit_name <- as.character(extract_test_full$org_unit_name)\n\nfreqFac <- as.data.frame(table(extract_test_full$org_unit_name))\nordFreq <- order(-freqFac$Freq)\n\nout <- freqFac[ordFreq,]\n\nwrite.csv(out ,'../out_orgunit.csv' )\n\n\nfreqIndic <- as.data.frame(table(extract_test_full$data_element_name))\nordFreq <- order(-freqIndic$Freq)\nindics_freq <- freqIndic[ordFreq,]\nwrite.csv(indics_freq ,'../out_indics.csv' )\n\nlibrary(ggplot2)\nlibrary(zoo)\n\nextract_test_full$period <- as.character(extract_test_full$period)\nextract_test_full$time <-\n  extract_test_full$period <- as.Date(as.yearmon(extract_test_full$period, \"%Y%m\"))\n  extract_test_full$value <- as.numeric(as.character(extract_test_full$value))\n  \n  plot_indicator <- function(data, indicator){\n    data <- subset(data ,\n                   data_element_name == indicator)\n    qplot(data = data , y = value , x = time) +\n      facet_wrap(~org_unit_name , scales = 'free_y') +\n      ylab(indicator)\n  }\n  \n  pdf('explore_data.pdf' , width = 14)\n  plot_indicator(extract_test_full , 'Clinical Malaria')\n  plot_indicator(extract_test_full , 'Pneumonia')\n  plot_indicator(extract_test_full , 'Burns')\n  plot_indicator(extract_test_full , 'Psychiatry Attendance')\n  plot_indicator(extract_test_full , 'Kenya Registered community Health Nurses')\n  dev.off()\n  \n  indics_freq$Var1 <- as.character(indics_freq$Var1)\n  \n  pdf('all_plot.pdf' , width = 14)\n  for(indicator in indics_freq$Var1){\n    print(indicator)\n    plot_indicator(extract_test_full , indicator)\n  }\n  dev.off()\n  \n  length(unique(extract_test_full$dataElement))\n  \n  qplot(data = extract_test_full , x = time , binwidth = 30) +\n    theme_bw() +\n    facet_wrap(~org_unit_name , scales = 'free_y')\n  \n  \n  org_units_description$coordinates <- as.character(org_units_description$coordinates)\n  a <- strsplit(org_units_description$coordinates , ',',\n                fixed = FALSE, perl = FALSE, useBytes = FALSE)",
    "created" : 1422990706977.000,
    "dirty" : true,
    "encoding" : "",
    "folds" : "",
    "hash" : "3169100637",
    "id" : "A9C98069",
    "lastKnownWriteTime" : 1422929172,
    "path" : null,
    "project_path" : null,
    "properties" : {
        "tempName" : "Untitled2"
    },
    "relative_order" : 6,
    "source_on_save" : false,
    "type" : "r_source"
}